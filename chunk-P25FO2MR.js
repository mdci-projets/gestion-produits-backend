import{a as j}from"./chunk-WQNLUBG3.js";import{B as y,C as A,F as M,G as N,H as I,I as L,K as T,M as O,e as h,h as F,m as E,t as P,y as S,z as u}from"./chunk-6LSA2XQ7.js";import{Hb as x,Sa as d,Tb as n,Xa as _,cb as C,hb as b,ob as p,wb as r,xb as o,yb as v}from"./chunk-TRC53F5N.js";function D(t,i){t&1&&(r(0,"span"),n(1," Le nom est obligatoire. "),o())}function G(t,i){t&1&&(r(0,"span"),n(1," Le nom doit contenir au moins 3 caract\xE8res. "),o())}function k(t,i){t&1&&(r(0,"span"),n(1," Le prix est obligatoire. "),o())}function w(t,i){t&1&&(r(0,"span"),n(1," Le prix doit \xEAtre sup\xE9rieur ou \xE9gal \xE0 1. "),o())}function R(t,i){t&1&&(r(0,"span"),n(1," La description est obligatoire. "),o())}function V(t,i){t&1&&(r(0,"span"),n(1," La description ne doit pas d\xE9passer 200 caract\xE8res. "),o())}var q=class t{constructor(i,a,e){this.fb=i;this.productService=a;this.router=e;this.productForm=this.fb.group({name:["",[u.required,u.minLength(3)]],price:[0,[u.required,u.min(1)]],description:["",[u.required,u.maxLength(200)]]})}productForm;productCreated=void 0;errorMessage=null;onSubmit(){this.productForm.invalid||this.productService.addProduct(this.productForm.value).subscribe({next:()=>{this.router.navigate(["/"])},error:i=>{this.errorMessage="Erreur lors de l\u2019ajout du produit : "+(i.message||"Erreur inconnue")}})}static \u0275fac=function(a){return new(a||t)(_(T),_(j),_(P))};static \u0275cmp=C({type:t,selectors:[["app-add-product"]],decls:21,vars:8,consts:[[1,"add-product-form"],[3,"ngSubmit","formGroup"],["type","text","formControlName","name"],[4,"ngIf"],["type","number","formControlName","price"],["formControlName","description"],["type","submit",3,"disabled"]],template:function(a,e){if(a&1&&(r(0,"div",0)(1,"h2"),n(2,"Ajouter un produit"),o(),r(3,"form",1),x("ngSubmit",function(){return e.onSubmit()}),r(4,"label"),n(5," Nom : "),v(6,"input",2),b(7,D,2,0,"span",3)(8,G,2,0,"span",3),o(),r(9,"label"),n(10," Prix : "),v(11,"input",4),b(12,k,2,0,"span",3)(13,w,2,0,"span",3),o(),r(14,"label"),n(15," Description : "),v(16,"textarea",5),b(17,R,2,0,"span",3)(18,V,2,0,"span",3),o(),r(19,"button",6),n(20,"Ajouter"),o()()()),a&2){let l,m,c,s,f,g;d(3),p("formGroup",e.productForm),d(4),p("ngIf",((l=e.productForm.get("name"))==null?null:l.hasError("required"))&&((l=e.productForm.get("name"))==null?null:l.touched)),d(),p("ngIf",((m=e.productForm.get("name"))==null?null:m.hasError("minlength"))&&((m=e.productForm.get("name"))==null?null:m.touched)),d(4),p("ngIf",((c=e.productForm.get("price"))==null?null:c.hasError("required"))&&((c=e.productForm.get("price"))==null?null:c.touched)),d(),p("ngIf",((s=e.productForm.get("price"))==null?null:s.hasError("min"))&&((s=e.productForm.get("price"))==null?null:s.touched)),d(4),p("ngIf",((f=e.productForm.get("description"))==null?null:f.hasError("required"))&&((f=e.productForm.get("description"))==null?null:f.touched)),d(),p("ngIf",((g=e.productForm.get("description"))==null?null:g.hasError("maxlength"))&&((g=e.productForm.get("description"))==null?null:g.touched)),d(),p("disabled",e.productForm.invalid)}},dependencies:[F,h,O,M,S,N,y,A,I,L,E],styles:[".add-product-form[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9}label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;margin:5px 0 10px;border:1px solid #ddd;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}span[_ngcontent-%COMP%]{color:red;font-size:.9em}"]})};export{q as AddProductComponent};
